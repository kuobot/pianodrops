<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>JS Pianodrops</title>
  <link rel="stylesheet" href="pianodrops.css">
</head>
<body>

<!-- <button onclick="setInterval()">Click Me</button>
 -->
<div style="text-align:center">
  <span id="pos1"><div id="drop"></div></span>
  <span id="pos2"><div id="drop"></div></span>
  <span id="pos3"><div id="drop"></div></span>
  <span id="pos4"><div id="drop"></div></span>
  <span id="pos5"><div id="drop"></div></span>
  <span id="pos6"><div id="drop"></div></span>
</div>


  <audio src="piano/sound_1.wav"></audio>
  <audio src="piano/sound_2.wav"></audio>
  <audio src="piano/sound_3.wav"></audio>
  <audio src="piano/sound_4.wav"></audio>
  <audio src="piano/sound_5.wav"></audio>
  <audio src="piano/sound_6.wav"></audio>

<script>

// document.getElementById("pos1").style.visibility = "hidden";

function getPosition() {
  randomNumber = Math.floor(Math.random() * 6) + 1;  
  var position = "pos" + randomNumber;
  return position;
  return randomNumber;
}


function makeDropVisible() {
  var currentDrop = getPosition();
  document.getElementById(currentDrop.toString()).style.visibility = "visible";
  console.log(currentDrop);
}

function myMove() {
  var currentDrop = getPosition();
  var elem = document.getElementById(currentDrop.toString()); 
  var pos = 0;
  var id = setInterval(frame, 2);
  function frame() {
    if (pos == 800) {
      playSound(randomNumber);
      clearInterval(id);
    } else {
      pos++; 
      elem.style.top = pos + 'px'; 
    }
  }
}

function moveDrop() {
  makeDropVisible();
  myMove();
} 

function playSound(e) {
  var audio = new Audio('piano/sound_' + e + '.wav');
  audio.play();
}


var myVar = setInterval(function(){ moveDrop() }, 2000);

</script>

</body>
</html>
